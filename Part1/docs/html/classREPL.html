<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DOCS: REPL Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DOCS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classREPL-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">REPL Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A class derived from <a class="el" href="classDatabase.html" title="Manages data storage and retrieval, supporting operations like compaction, flushing,...">Database</a> that implements basic <a class="el" href="classREPL.html" title="A class derived from Database that implements basic REPL operations (GET, SET, DELETE) for the key-va...">REPL</a> operations (GET, SET, DELETE) for the key-value store.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="REPL_8h_source.html">REPL.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for REPL:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classREPL.png" usemap="#REPL_map" alt=""/>
  <map id="REPL_map" name="REPL_map">
<area href="classDatabase.html" title="Manages data storage and retrieval, supporting operations like compaction, flushing,..." alt="Database" shape="rect" coords="0,0,65,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a925a7cbb92f8312a7cd212e93afe94b6" id="r_a925a7cbb92f8312a7cd212e93afe94b6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a925a7cbb92f8312a7cd212e93afe94b6">GET</a> (string &amp;key, string &amp;value)</td></tr>
<tr class="memdesc:a925a7cbb92f8312a7cd212e93afe94b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the value associated with a given key.  <br /></td></tr>
<tr class="separator:a925a7cbb92f8312a7cd212e93afe94b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac91b84a41eca86e1ce6a665d454a704" id="r_aac91b84a41eca86e1ce6a665d454a704"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac91b84a41eca86e1ce6a665d454a704">SET</a> (string &amp;key, string &amp;value)</td></tr>
<tr class="memdesc:aac91b84a41eca86e1ce6a665d454a704"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the value for a given key.  <br /></td></tr>
<tr class="separator:aac91b84a41eca86e1ce6a665d454a704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e3ccca69901c129405b7643f93db87e" id="r_a3e3ccca69901c129405b7643f93db87e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e3ccca69901c129405b7643f93db87e">DELETE</a> (string &amp;key)</td></tr>
<tr class="memdesc:a3e3ccca69901c129405b7643f93db87e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks a key as deleted by setting its value to TOMBSTONE.  <br /></td></tr>
<tr class="separator:a3e3ccca69901c129405b7643f93db87e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classDatabase"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_classDatabase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classDatabase.html">Database</a></td></tr>
<tr class="memitem:aae3bec471572392290a4fddb4aea5c8d inherit pro_methods_classDatabase" id="r_aae3bec471572392290a4fddb4aea5c8d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#aae3bec471572392290a4fddb4aea5c8d">Find</a> (int tier, int index, string &amp;key, string &amp;value)</td></tr>
<tr class="memdesc:aae3bec471572392290a4fddb4aea5c8d inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for a key in the database.  <br /></td></tr>
<tr class="separator:aae3bec471572392290a4fddb4aea5c8d inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dea3456407995ff774ae36f0fbcbb30 inherit pro_methods_classDatabase" id="r_a8dea3456407995ff774ae36f0fbcbb30"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a8dea3456407995ff774ae36f0fbcbb30">binary_search</a> (ifstream &amp;In, ifstream &amp;secondary, size_t entries, string &amp;key, string &amp;value)</td></tr>
<tr class="memdesc:a8dea3456407995ff774ae36f0fbcbb30 inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a binary search within a file stream for a given key.  <br /></td></tr>
<tr class="separator:a8dea3456407995ff774ae36f0fbcbb30 inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96401acdb58036ac556ca4be9068898c inherit pro_methods_classDatabase" id="r_a96401acdb58036ac556ca4be9068898c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a96401acdb58036ac556ca4be9068898c">compact_main</a> ()</td></tr>
<tr class="memdesc:a96401acdb58036ac556ca4be9068898c inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main compaction process.  <br /></td></tr>
<tr class="separator:a96401acdb58036ac556ca4be9068898c inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3893e2b916c8502668e4014910574a6 inherit pro_methods_classDatabase" id="r_ac3893e2b916c8502668e4014910574a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#ac3893e2b916c8502668e4014910574a6">FLUSH</a> ()</td></tr>
<tr class="memdesc:ac3893e2b916c8502668e4014910574a6 inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flushes the in-memory table to SSTable storage.  <br /></td></tr>
<tr class="separator:ac3893e2b916c8502668e4014910574a6 inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4703c80e6969d33565ea340f768fdadf inherit pro_methods_classDatabase" id="r_a4703c80e6969d33565ea340f768fdadf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a4703c80e6969d33565ea340f768fdadf">Database</a> ()</td></tr>
<tr class="memdesc:a4703c80e6969d33565ea340f768fdadf inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the <a class="el" href="classDatabase.html" title="Manages data storage and retrieval, supporting operations like compaction, flushing,...">Database</a> class.  <br /></td></tr>
<tr class="separator:a4703c80e6969d33565ea340f768fdadf inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d399a2ad58d69daab9b05330e1316d inherit pro_methods_classDatabase" id="r_a84d399a2ad58d69daab9b05330e1316d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a84d399a2ad58d69daab9b05330e1316d">~Database</a> ()</td></tr>
<tr class="memdesc:a84d399a2ad58d69daab9b05330e1316d inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for the <a class="el" href="classDatabase.html" title="Manages data storage and retrieval, supporting operations like compaction, flushing,...">Database</a> class.  <br /></td></tr>
<tr class="separator:a84d399a2ad58d69daab9b05330e1316d inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5023c6cbe44ef7158e80590a3e1ed2 inherit pro_methods_classDatabase" id="r_a3d5023c6cbe44ef7158e80590a3e1ed2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a3d5023c6cbe44ef7158e80590a3e1ed2">Rename</a> (path &amp;oldPath, path &amp;newPath, int tier)</td></tr>
<tr class="memdesc:a3d5023c6cbe44ef7158e80590a3e1ed2 inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renames files based on the nomenclature of the specified tier.  <br /></td></tr>
<tr class="separator:a3d5023c6cbe44ef7158e80590a3e1ed2 inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9cfeee48e9e93c6360514ec6f6f9ddb inherit pro_methods_classDatabase" id="r_ab9cfeee48e9e93c6360514ec6f6f9ddb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#ab9cfeee48e9e93c6360514ec6f6f9ddb">compact</a> (int tier)</td></tr>
<tr class="memdesc:ab9cfeee48e9e93c6360514ec6f6f9ddb inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs compaction on a specific tier.  <br /></td></tr>
<tr class="separator:ab9cfeee48e9e93c6360514ec6f6f9ddb inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2684d861b0f4d1accce7fdef3cd4c7c5 inherit pro_methods_classDatabase" id="r_a2684d861b0f4d1accce7fdef3cd4c7c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a2684d861b0f4d1accce7fdef3cd4c7c5">write_lock</a> (int tier)</td></tr>
<tr class="memdesc:a2684d861b0f4d1accce7fdef3cd4c7c5 inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks the i-th tier for writing.  <br /></td></tr>
<tr class="separator:a2684d861b0f4d1accce7fdef3cd4c7c5 inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab503f896cf02040888e0dd41e6b0ad52 inherit pro_methods_classDatabase" id="r_ab503f896cf02040888e0dd41e6b0ad52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#ab503f896cf02040888e0dd41e6b0ad52">write_unlock</a> (int tier)</td></tr>
<tr class="memdesc:ab503f896cf02040888e0dd41e6b0ad52 inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks the i-th tier for writing.  <br /></td></tr>
<tr class="separator:ab503f896cf02040888e0dd41e6b0ad52 inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f41f1cfa2f8a7d88521c421cf4193b inherit pro_methods_classDatabase" id="r_a58f41f1cfa2f8a7d88521c421cf4193b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a58f41f1cfa2f8a7d88521c421cf4193b">read_lock</a> (int tier)</td></tr>
<tr class="memdesc:a58f41f1cfa2f8a7d88521c421cf4193b inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks the i-th tier for reading.  <br /></td></tr>
<tr class="separator:a58f41f1cfa2f8a7d88521c421cf4193b inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeccfa14ac4500da2405b2e495612a8b1 inherit pro_methods_classDatabase" id="r_aeccfa14ac4500da2405b2e495612a8b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#aeccfa14ac4500da2405b2e495612a8b1">read_unlock</a> (int tier)</td></tr>
<tr class="memdesc:aeccfa14ac4500da2405b2e495612a8b1 inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks the i-th tier for reading.  <br /></td></tr>
<tr class="separator:aeccfa14ac4500da2405b2e495612a8b1 inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3c4d2265b869b532b9c71377fb47a9 inherit pro_methods_classDatabase" id="r_a5b3c4d2265b869b532b9c71377fb47a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a5b3c4d2265b869b532b9c71377fb47a9">merge_lock</a> (int tier)</td></tr>
<tr class="memdesc:a5b3c4d2265b869b532b9c71377fb47a9 inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks the i-th tier for merging data.  <br /></td></tr>
<tr class="separator:a5b3c4d2265b869b532b9c71377fb47a9 inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae227b971e349f1f7eef1cfee82ab3228 inherit pro_methods_classDatabase" id="r_ae227b971e349f1f7eef1cfee82ab3228"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#ae227b971e349f1f7eef1cfee82ab3228">merge_unlock</a> (int tier)</td></tr>
<tr class="memdesc:ae227b971e349f1f7eef1cfee82ab3228 inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks the i-th tier after merging data.  <br /></td></tr>
<tr class="separator:ae227b971e349f1f7eef1cfee82ab3228 inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c7cad2d7102a8e5ff480355e5b90ebf inherit pro_methods_classDatabase" id="r_a0c7cad2d7102a8e5ff480355e5b90ebf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a0c7cad2d7102a8e5ff480355e5b90ebf">get_folder</a> (int tier, path &amp;dir)</td></tr>
<tr class="memdesc:a0c7cad2d7102a8e5ff480355e5b90ebf inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the path to a specific tier directory. Creates it if it doesn't exist.  <br /></td></tr>
<tr class="separator:a0c7cad2d7102a8e5ff480355e5b90ebf inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c20552e3b19756fe3232fc7c29a6cd inherit pro_methods_classDatabase" id="r_af0c20552e3b19756fe3232fc7c29a6cd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#af0c20552e3b19756fe3232fc7c29a6cd">initialize_folder</a> (int tier)</td></tr>
<tr class="memdesc:af0c20552e3b19756fe3232fc7c29a6cd inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes variables based on the data in a tier during database initialization.  <br /></td></tr>
<tr class="separator:af0c20552e3b19756fe3232fc7c29a6cd inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4fce4cd4bc90cfec102ffaef5d54ba9 inherit pro_methods_classDatabase" id="r_ac4fce4cd4bc90cfec102ffaef5d54ba9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#ac4fce4cd4bc90cfec102ffaef5d54ba9">initialize_memtable</a> ()</td></tr>
<tr class="memdesc:ac4fce4cd4bc90cfec102ffaef5d54ba9 inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the in-memory table using the WAL.  <br /></td></tr>
<tr class="separator:ac4fce4cd4bc90cfec102ffaef5d54ba9 inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae03669ca94ae3523dfbe84e796323df6 inherit pro_methods_classDatabase" id="r_ae03669ca94ae3523dfbe84e796323df6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#ae03669ca94ae3523dfbe84e796323df6">append_to_WAL</a> (string &amp;key, string &amp;value)</td></tr>
<tr class="memdesc:ae03669ca94ae3523dfbe84e796323df6 inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a key-value pair to the WAL.  <br /></td></tr>
<tr class="separator:ae03669ca94ae3523dfbe84e796323df6 inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b359ece40bb8fd13f0f4b378805089d inherit pro_methods_classDatabase" id="r_a6b359ece40bb8fd13f0f4b378805089d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a6b359ece40bb8fd13f0f4b378805089d">initialize_filter</a> (int tier, vector&lt; <a class="el" href="classBloomFilter.html">BloomFilter</a> &gt; &amp;filter, path &amp;dir)</td></tr>
<tr class="memdesc:a6b359ece40bb8fd13f0f4b378805089d inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Bloom filters for a tier based on its data.  <br /></td></tr>
<tr class="separator:a6b359ece40bb8fd13f0f4b378805089d inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb3a515e35ec6e84763504785b410fd inherit pro_methods_classDatabase" id="r_a3eb3a515e35ec6e84763504785b410fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabase.html#a3eb3a515e35ec6e84763504785b410fd">push_semaphores</a> ()</td></tr>
<tr class="memdesc:a3eb3a515e35ec6e84763504785b410fd inherit pro_methods_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes semaphore configurations for new tiers and threads.  <br /></td></tr>
<tr class="separator:a3eb3a515e35ec6e84763504785b410fd inherit pro_methods_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classDatabase"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_attribs_classDatabase')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classDatabase.html">Database</a></td></tr>
<tr class="memitem:a0813cbbe0fc42abe6666508941348702 inherit pro_attribs_classDatabase" id="r_a0813cbbe0fc42abe6666508941348702"><td class="memItemLeft" align="right" valign="top">
int&#160;</td><td class="memItemRight" valign="bottom"><b>flushid</b></td></tr>
<tr class="separator:a0813cbbe0fc42abe6666508941348702 inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9f4807f5a8f39f545a4fe62cccaa1e inherit pro_attribs_classDatabase" id="r_a4d9f4807f5a8f39f545a4fe62cccaa1e"><td class="memItemLeft" align="right" valign="top">
int&#160;</td><td class="memItemRight" valign="bottom"><b>compactid</b></td></tr>
<tr class="memdesc:a4d9f4807f5a8f39f545a4fe62cccaa1e inherit pro_attribs_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">IDs for flush and compaction semaphores. <br /></td></tr>
<tr class="separator:a4d9f4807f5a8f39f545a4fe62cccaa1e inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0cc9996c9d24721b7d0da2aab26d63 inherit pro_attribs_classDatabase" id="r_a8d0cc9996c9d24721b7d0da2aab26d63"><td class="memItemLeft" align="right" valign="top">
bool&#160;</td><td class="memItemRight" valign="bottom"><b>destroy</b></td></tr>
<tr class="memdesc:a8d0cc9996c9d24721b7d0da2aab26d63 inherit pro_attribs_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether the database is being destroyed. <br /></td></tr>
<tr class="separator:a8d0cc9996c9d24721b7d0da2aab26d63 inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12baae7be265887bc2a79107c53183e1 inherit pro_attribs_classDatabase" id="r_a12baae7be265887bc2a79107c53183e1"><td class="memItemLeft" align="right" valign="top">
vector&lt; vector&lt; <a class="el" href="classBloomFilter.html">BloomFilter</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>filters</b></td></tr>
<tr class="memdesc:a12baae7be265887bc2a79107c53183e1 inherit pro_attribs_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bloom filters for different tiers. <br /></td></tr>
<tr class="separator:a12baae7be265887bc2a79107c53183e1 inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb078c0bcad7dc577fe3eb1f71b5653 inherit pro_attribs_classDatabase" id="r_aedb078c0bcad7dc577fe3eb1f71b5653"><td class="memItemLeft" align="right" valign="top">
ofstream&#160;</td><td class="memItemRight" valign="bottom"><b>wal</b></td></tr>
<tr class="memdesc:aedb078c0bcad7dc577fe3eb1f71b5653 inherit pro_attribs_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write-ahead log (WAL) file stream. <br /></td></tr>
<tr class="separator:aedb078c0bcad7dc577fe3eb1f71b5653 inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e3f3a2cf1d61833cd2ebf7ae1e7a76e inherit pro_attribs_classDatabase" id="r_a3e3f3a2cf1d61833cd2ebf7ae1e7a76e"><td class="memItemLeft" align="right" valign="top">
map&lt; string, string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>memtable</b></td></tr>
<tr class="memdesc:a3e3f3a2cf1d61833cd2ebf7ae1e7a76e inherit pro_attribs_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">In-memory key-value storage. <br /></td></tr>
<tr class="separator:a3e3f3a2cf1d61833cd2ebf7ae1e7a76e inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a107464f3fbc23c2c01278151b3ea78 inherit pro_attribs_classDatabase" id="r_a4a107464f3fbc23c2c01278151b3ea78"><td class="memItemLeft" align="right" valign="top">
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>levels_main</b></td></tr>
<tr class="memdesc:a4a107464f3fbc23c2c01278151b3ea78 inherit pro_attribs_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the number of data files in Tier_i. <br /></td></tr>
<tr class="separator:a4a107464f3fbc23c2c01278151b3ea78 inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e281011cf1bfc2e41fa3823454df9c inherit pro_attribs_classDatabase" id="r_a25e281011cf1bfc2e41fa3823454df9c"><td class="memItemLeft" align="right" valign="top">
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>mem_size</b></td></tr>
<tr class="memdesc:a25e281011cf1bfc2e41fa3823454df9c inherit pro_attribs_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the in-memory table. <br /></td></tr>
<tr class="separator:a25e281011cf1bfc2e41fa3823454df9c inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb490c514d3b4c6d3a2fb17a8b176bd inherit pro_attribs_classDatabase" id="r_a1eb490c514d3b4c6d3a2fb17a8b176bd"><td class="memItemLeft" align="right" valign="top">
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>semids</b></td></tr>
<tr class="separator:a1eb490c514d3b4c6d3a2fb17a8b176bd inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca4881ee16ecd1fff00e47066bfe76b inherit pro_attribs_classDatabase" id="r_a1ca4881ee16ecd1fff00e47066bfe76b"><td class="memItemLeft" align="right" valign="top">
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>wsemids</b></td></tr>
<tr class="separator:a1ca4881ee16ecd1fff00e47066bfe76b inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8198db1852612eb4b405f1e0ae7e214d inherit pro_attribs_classDatabase" id="r_a8198db1852612eb4b405f1e0ae7e214d"><td class="memItemLeft" align="right" valign="top">
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>wcount</b></td></tr>
<tr class="separator:a8198db1852612eb4b405f1e0ae7e214d inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dfd3aa6ccee70512b7a51ca01d1fd0a inherit pro_attribs_classDatabase" id="r_a3dfd3aa6ccee70512b7a51ca01d1fd0a"><td class="memItemLeft" align="right" valign="top">
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>rcount</b></td></tr>
<tr class="separator:a3dfd3aa6ccee70512b7a51ca01d1fd0a inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acebfc614ec8dabcd1e64ba5aac9fafb9 inherit pro_attribs_classDatabase" id="r_acebfc614ec8dabcd1e64ba5aac9fafb9"><td class="memItemLeft" align="right" valign="top">
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>reader</b></td></tr>
<tr class="separator:acebfc614ec8dabcd1e64ba5aac9fafb9 inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11749c361f6a549f2b79d4a67ad06b2f inherit pro_attribs_classDatabase" id="r_a11749c361f6a549f2b79d4a67ad06b2f"><td class="memItemLeft" align="right" valign="top">
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>writer</b></td></tr>
<tr class="separator:a11749c361f6a549f2b79d4a67ad06b2f inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dfc7a56b458200622eb090fb728e22e inherit pro_attribs_classDatabase" id="r_a9dfc7a56b458200622eb090fb728e22e"><td class="memItemLeft" align="right" valign="top">
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>mtx</b></td></tr>
<tr class="memdesc:a9dfc7a56b458200622eb090fb728e22e inherit pro_attribs_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Semaphore and thread control variables. <br /></td></tr>
<tr class="separator:a9dfc7a56b458200622eb090fb728e22e inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae601748dc672ec6bdc000ed7fd297845 inherit pro_attribs_classDatabase" id="r_ae601748dc672ec6bdc000ed7fd297845"><td class="memItemLeft" align="right" valign="top">
bool&#160;</td><td class="memItemRight" valign="bottom"><b>flushrunning</b></td></tr>
<tr class="memdesc:ae601748dc672ec6bdc000ed7fd297845 inherit pro_attribs_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating if a flush operation is in progress. <br /></td></tr>
<tr class="separator:ae601748dc672ec6bdc000ed7fd297845 inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41b1c2c0897e7479d5391dd84ff9c780 inherit pro_attribs_classDatabase" id="r_a41b1c2c0897e7479d5391dd84ff9c780"><td class="memItemLeft" align="right" valign="top">
thread&#160;</td><td class="memItemRight" valign="bottom"><b>compact_main_thread</b></td></tr>
<tr class="separator:a41b1c2c0897e7479d5391dd84ff9c780 inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b506a725a7971806041b2e4852d3a2 inherit pro_attribs_classDatabase" id="r_a37b506a725a7971806041b2e4852d3a2"><td class="memItemLeft" align="right" valign="top">
thread&#160;</td><td class="memItemRight" valign="bottom"><b>flush_thread</b></td></tr>
<tr class="memdesc:a37b506a725a7971806041b2e4852d3a2 inherit pro_attribs_classDatabase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Threads for compaction and flushing operations. <br /></td></tr>
<tr class="separator:a37b506a725a7971806041b2e4852d3a2 inherit pro_attribs_classDatabase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class derived from <a class="el" href="classDatabase.html" title="Manages data storage and retrieval, supporting operations like compaction, flushing,...">Database</a> that implements basic <a class="el" href="classREPL.html" title="A class derived from Database that implements basic REPL operations (GET, SET, DELETE) for the key-va...">REPL</a> operations (GET, SET, DELETE) for the key-value store. </p>
<p>This class extends the <a class="el" href="classDatabase.html" title="Manages data storage and retrieval, supporting operations like compaction, flushing,...">Database</a> class and provides methods to interact with the database through a <a class="el" href="classREPL.html" title="A class derived from Database that implements basic REPL operations (GET, SET, DELETE) for the key-va...">REPL</a> (Read-Eval-Print Loop). The methods allow retrieving, setting, and deleting key-value pairs from the database. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a3e3ccca69901c129405b7643f93db87e" name="a3e3ccca69901c129405b7643f93db87e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e3ccca69901c129405b7643f93db87e">&#9670;&#160;</a></span>DELETE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool REPL::DELETE </td>
          <td>(</td>
          <td class="paramtype">string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks a key as deleted by setting its value to TOMBSTONE. </p>
<p>Marks a key as deleted by setting it to TOMBSTONE.</p>
<p>This function is used to delete a key from the database by setting the associated value to a special "TOMBSTONE" value. This does not immediately remove the key from the database but marks it for deletion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key to be marked as deleted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation was successful, false otherwise.</dd></dl>
<p>This function is a shortcut for calling <code>SET</code> with the TOMBSTONE value, marking the given key as deleted in the database. The value associated with the key will be set to TOMBSTONE, indicating that the key has been logically deleted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key to be deleted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the delete operation is successful, false otherwise. </dd></dl>

</div>
</div>
<a id="a925a7cbb92f8312a7cd212e93afe94b6" name="a925a7cbb92f8312a7cd212e93afe94b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a925a7cbb92f8312a7cd212e93afe94b6">&#9670;&#160;</a></span>GET()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool REPL::GET </td>
          <td>(</td>
          <td class="paramtype">string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the value associated with a given key. </p>
<p>Retrieves the value for a given key from the database.</p>
<p>This function looks for the key in the memtable's <a class="el" href="classBloomFilter.html" title="Implements a probabilistic function with false-positive chances to check whether a key exists in a fi...">BloomFilter</a> and then searches for it in the memtable or disk if necessary. If the key is found and not marked as deleted (TOMBSTONE), the corresponding value is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key for which the value needs to be retrieved. </td></tr>
    <tr><td class="paramname">value</td><td>The value corresponding to the given key (output parameter).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the key was found and the value is valid, false otherwise.</dd></dl>
<p>This function checks if the given key exists in the Bloom filter and searches for the key in the memtable. If not found in the memtable, it searches through the levels of the database (using Bloom filters and the <code>Find</code> function). If the key is found and is not marked as a TOMBSTONE, the corresponding value is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key to search for. </td></tr>
    <tr><td class="paramname">value</td><td>The value associated with the key, to be returned if found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the key is found and is not marked as a TOMBSTONE, false otherwise. </dd></dl>

</div>
</div>
<a id="aac91b84a41eca86e1ce6a665d454a704" name="aac91b84a41eca86e1ce6a665d454a704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac91b84a41eca86e1ce6a665d454a704">&#9670;&#160;</a></span>SET()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool REPL::SET </td>
          <td>(</td>
          <td class="paramtype">string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the value for a given key. </p>
<p>Sets the value for a given key in the memtable and appends it to the WAL.</p>
<p>This function stores the key-value pair in the memtable and appends it to the Write-Ahead Log (WAL). If the memtable's size exceeds the threshold, a flush operation is triggered to persist the data on disk.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key to be inserted into the database. </td></tr>
    <tr><td class="paramname">value</td><td>The value associated with the key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the key-value pair was successfully inserted, false otherwise (e.g., if the total size is too large).</dd></dl>
<p>This function adds a key-value pair to the memtable and appends the same to the Write-Ahead Log (WAL). If the memtable exceeds a certain size, it triggers a flush operation. Additionally, it ensures that the key-value pair does not exceed the maximum allowed size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key to be set. </td></tr>
    <tr><td class="paramname">value</td><td>The value to be associated with the key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the operation is successful, false if the key-value pair exceeds the size limit. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="REPL_8h_source.html">REPL.h</a></li>
<li><b>REPL.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
